<!DOCTYPE html>
<html class="no-js" lang="en">
<head>

    <!--- basic page needs
    ================================================== -->
    <meta charset="utf-8">
    <title>Blog - Fish Tank</title>
    <meta name="description" content="">
    <meta name="author" content="">

    <!-- mobile specific metas
    ================================================== -->
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <!-- CSS
    ================================================== -->
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/vendor.css">
    <link rel="stylesheet" href="css/main.css">

    <!-- script
    ================================================== -->
    <script src="js/modernizr.js"></script>

    <!-- favicons
    ================================================== -->
    <link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
    <link rel="manifest" href="site.webmanifest">

</head>

<body class="ss-bg-white">

    <!-- preloader
    ================================================== -->
    <div id="preloader">
        <div id="loader" class="dots-fade">
            <div></div>
            <div></div>
            <div></div>
        </div>
    </div>

    <div id="top" class="s-wrap site-wrapper">


        <!-- site content
        ================================================== -->
        <div class="s-content content">
            <main class="row content__page">

                <article class="column large-full entry format-standard">

                    <div class="media-wrap entry__media">
                        <div class="entry__post-thumb">

                                         <img src="images/legendaryFish.png" alt="">
                        </div>
                    </div>

                    <div class="content__page-header entry__header">
                        <h1 class="display-1 entry__title">
                        Fish Tank Simulator
                        </h1>
                        <ul class="entry__header-meta">
                            <li class="author">By <a href="#0">Santiago Rendon and Akiva Thalheim </a></li>
                            <li class="date">November 4, 2020</li>
                            <li class="cat-links">
                                <a href="#0">Programming</a><a href="#0">Gaming</a>
                            </li>
                        </ul>
                    </div> <!-- end entry__header -->

                    <div class="entry__content">

                        <p class="lead drop-cap">
                        Me and my partner created a Fish Tank Simulator Game, with hand drawn graphics, using P5.js, Jquery, and Vanilla Javascript.
                        The goal was to make a customizable enviornment where you could keep digital fish, feed them to keep them healthy,
                        sell them to get cool items, and breed them to grow your collection.
                        All the source code can be found on <a href="https://github.com/santiagorendon/fish-tank-sim">Github.</a>
                        <br>
                        <br>
                        Our inspiration for this game was to create a fun simulated environment that was both relaxing and engaging,
                        and had many different states involved. We divided the work through Trello tickets and Github branches,
                        to closely mimic a real-world engineering project.
                        </p>

                        <p>
                        Below is a playable version of the game. If you want to play it full size click <a href="../index.html">here.</a>
                        </p>

                        <p>
                          <iframe id="sketch1" src="../index.html" scrolling="no"></iframe>

                        </p>

                        <h2>How to Play</h2>
                          <h4>Controls</h4>
                            <p>Simply click on an icon from the toolbar to select that tool and refer below to read about what it does.</p>

                                <h4>Functional Tools</h4>
                                  <p>Here is a list of tools that can be used to interact with the fish and the enviornment.

                                  <div class="table-responsive">
                                      <table >
                                              <thead>
                                              <tr>
                                                  <th>Icon</th>
                                                  <th>Name</th>
                                                  <th>Cost</th>
                                                  <th>Description</th>
                                                  <!-- <th>Location</th> -->
                                              </tr>
                                              </thead>
                                              <tbody>
                                              <tr>
                                                  <td><img class="toolIcons" src="../images/cursor.png"></td>
                                                  <td>Cursor</td>
                                                  <td>Free</td>
                                                  <td>Can select different fish to view stats.</td>
                                              </tr>
                                              <tr>
                                                  <td><img class="toolIcons" src="../images/shop.png"></td>
                                                  <td>Shop</td>
                                                  <td>Free</td>
                                                  <td>Click this to access the in game store.</td>
                                              </tr>
                                              <tr>
                                                  <td><img class="toolIcons" src="images/breed.png"></td>
                                                  <td>Breed</td>
                                                  <td>Free</td>
                                                  <td>Click on two fish and press the breed button on the menu that pops up to breed two fish.</td>
                                              </tr>
                                              <tr>
                                                  <td><img class="toolIcons" src="../images/toilet.png"></td>
                                                  <td>Toilet</td>
                                                  <td>$15</td>
                                                  <td>Click on any fish to remove it from your tank.</td>
                                              </tr>
                                              <tr>
                                                <td><img class="toolIcons" src="../images/fishFood/fishfood.png"></td>
                                                <td>Common Food</td>
                                                <td>$18</td>
                                                <td>Drops flakes to heal fish by 2 HP.</td>
                                              </tr>
                                              <tr>
                                                <td><img class="toolIcons" src="../images/fishFood/rareFishfood.png"></td>
                                                <td>Rare Food</td>
                                                <td>$38</td>
                                                <td>Drops flakes to heal fish by 4 HP.</td>
                                              </tr>
                                              <tr>
                                                <td><img class="toolIcons" src="../images/fishFood/legendaryFishfood.png"></td>
                                                <td>Legendary Food</td>
                                                <td>$95</td>
                                                <td>Drops flakes to heal fish by 8 HP.</td>
                                              </tr>
                                              <tr>
                                                <td><img class="toolIcons" src="../images/commonEgg.png"></td>
                                                <td>Common Egg</td>
                                                <td>$10</td>
                                                <td>Click anywhere on the tank to spawn a common fish.</td>
                                              </tr>
                                              <tr>
                                                <td><img class="toolIcons" src="../images/rareEgg.png"></td>
                                                <td>Rare Egg</td>
                                                <td>$300</td>
                                                <td>Click anywhere on the tank to spawn a rare fish.</td>
                                              </tr>
                                              <tr>
                                                  <td><img class="toolIcons" src="../images/legendaryEgg.png"></td>
                                                  <td>Legendary Egg</td>
                                                  <td>$1300</td>
                                                  <td>Click anywhere on the tank to spawn a legendary fish.</td>
                                              </tr>
                                              <tr>
                                                  <td><img class="toolIcons" src="../images/treasure.png"></td>
                                                  <td>Treasure</td>
                                                  <td>$400</td>
                                                  <td>Click anywhere on the tank to spawn a chest that drops coins.</td>
                                              </tr>
                                              </tbody>
                                      </table>
                                  </div>
                                  <h4>Cosmetic Tools</h4>
                                    <p>Here is a list of tools that can be used to enhance and customize the look of the environment.
                                    </p>
                                    <div class="table-responsive">
                                        <table>
                                                <thead>
                                                <tr>
                                                    <th>Icon</th>
                                                    <th>Name</th>
                                                    <th>Cost</th>
                                                    <th>Description</th>
                                                </tr>
                                                </thead>
                                                <tbody>
                                                <tr>
                                                    <td><img class="toolIcons" src="../images/sand.png"></td>
                                                    <td>Sand</td>
                                                    <td>$10</td>
                                                    <td>Drops sand particles onto the fish tank.</td>
                                                </tr>
                                                <tr>
                                                    <td><img class="toolIcons" src="../images/rock.png"></td>
                                                    <td>Rock</td>
                                                    <td>$15</td>
                                                    <td>Use to place rocks on the enviornment.</td>
                                                </tr>
                                                <tr>
                                                    <td><img class="toolIcons" src="../images/grass.png"></td>
                                                    <td>Grass</td>
                                                    <td>$15</td>
                                                    <td>Use to place grass on the enviornment.</td>
                                                </tr>
                                                <tr>
                                                    <td><img class="toolIcons" src="../images/logSign.png"></td>
                                                    <td>Log Sign</td>
                                                    <td>$100</td>
                                                    <td>Use to place a log on the enviornment.</td>
                                                </tr>
                                                <tr>

                                                    <td><img class="toolIcons" src="../images/barrel.png"></td>
                                                    <td>Barrel</td>
                                                    <td>$150</td>
                                                    <td>Use to place a barrel that releases bubbles into the tank.</td>
                                                </tr>
                                                </tbody>
                                        </table>
                                    </div>


                          <h4>Gameplay</h4>
                            <p>
                              During the game, the player can spawn in different fish and breed them to spawn more fish.
                              Then to make money the player can start selling some of their fish, and with the money they can
                              buy cosmetics to customize the tank or save up to buy rare and legendary fish eggs, which are sold
                              for more.
                            </p>

                        <h2>Fish</h2>

                        <h4>Rarity</h4>
                          <p>The game is set up to have 6 different kinds of fish that go from tiers S to F.
                            The rarity of the fish determine the tier the fish will be in and each tier
                            of fish has a different look.

                          S tier has a rarity range of 95-100, A tier has a rarity range of 85-94,
                          B tier has a rarity range of 70-84, C tier has a rarity range of 50-69,
                          D tier has a rarity range of 25-49, and finally F tier has a rarity range of 0-24.
                        <h4>Breeding</h4>
                        <div class="row half-bottom">
                            <div class="column large-6 tab-full">
                              <p><img src="images/breedMenu2.png"
                                  alt="">
                              </p>
                            </div>
                            <div class="column large-6 tab-full">
                              <p><img src="images/breedMenu.png"
                                  alt="">
                              </p>
                            </div>
                        </div>
                          <p>
                            The player can breed fish by selecting the breed tool on the top left. Afterward, the player can select any two fish of their liking
                            and press the breed button on the top right menu.
                            However, the player can only hatch one egg at a time, so the player must wait for the offspring egg to hatch before they can breed again.
                            The offspring's rarity range will depend on both of their parent's rarity as well as a 'random' factor.

                          </p>
                        </p>
                        <h4>Fish Types</h4>
                        <div class="table-responsive">
                          <table>
                                  <thead>
                                  <tr>
                                      <th>Icon</th>
                                      <th>Name</th>
                                      <th>Tier</th>
                                      <th>Rarity Range</th>
                                  </tr>
                                  </thead>
                                  <tbody>
                                  <tr>
                                      <td><img class="fishIcons" src="images/legendaryFish2.png"></td>
                                      <td>Aqua</td>
                                      <td>S</td>
                                      <td>(95-100)</td>
                                  </tr>
                                  <tr>
                                    <td><img class="fishIcons" src="../images/shark/shark1.png"></td>
                                    <td>Shark</td>
                                    <td>A</td>
                                    <td>(85-94)</td>
                                  </tr>
                                  <tr>
                                    <td><img class="fishIcons" src="../images/horseFish/horseFish2.png"></td>
                                    <td>Sea Horse</td>
                                    <td>B</td>
                                    <td>(70-84)</td>
                                  </tr>
                                  <tr>
                                    <td><img class="fishIcons" src="../images/angelFish/angelFish2.png"></td>
                                    <td>Angel Fish</td>
                                    <td>C</td>
                                    <td>(50-69)</td>
                                  </tr>
                                  <tr>
                                    <td><img class="fishIcons" src="../images/pufferFish/pufferFish1.png"></td>
                                    <td>Puffer Fish</td>
                                    <td>D</td>
                                    <td>(25-49)</td>
                                  </tr>
                                  <tr>
                                    <td><img id="goldFish" class="fishIcons" src="../images/commonFish/commonFish1.png"></td>
                                    <td>Gold Fish</td>
                                    <td>F</td>
                                    <td>(0-24)</td>
                                  </tr>
                                  </tbody>
                          </table>
                        </div>

                    </div>

                        <h2>Programming</h2>
                          <h4>Resources</h4>
                            <ul>
                              <li><a href="https://p5js.org/">P5.js</a>- for manipulating and drawing everything on to the HTML5 canvas.</li>
                              <li><a href="https://jquery.com/">jQuery</a>- for selecting elements from the DOM in order to perform the resizing functionality.</li>
                              <li><a href="https://freesound.org/">FreeSound</a>- For getting non-copyrighted music files.</li>
                            </ul>
                          <h4>Files</h4>
                            <ul>
                              <li><u>index.html</u>- holds the html code for the project.</li>
                              <li><b>images</b>- holds all images for the game.</li>
                              <li><b>sounds</b>- holds all mp3 files for the game.</li>
                              <li><b>font</b>- holds all font files for the game.</li>
                              <li><b>documentation</b>- holds all documentation files for the game.</li>
                                <ul>
                                  <li><u>css</u>- holds some basic styling rules for the documentation.</li>
                                  <li><u>images</u>- holds some images for the documentation.</li>
                                </ul>
                              <li><b>css</b></li>
                                <ul>
                                  <li><u>index.css</u>- holds some basic styling rules for the canvas.</li>
                                </ul>
                              <li>
                                <b>js</b>
                                <ul>
                                  <li><u>jquery-3.3.1.min.js</u>- holds jquery library.</li>
                                  <li><u>jquery.documentsize.js</u>- holds the resize canvas logic for the game.</li>
                                  <li><u>sketch.js</u>- holds the game logic.</li>
                                </ul>
                              </li>

                            </ul>

                          <h4>Draw Loop</h4>
                            <p>
                              Our draw function is the main loop of the game.
                              Here we will handle the different routes that the game will draw as well as add a custom cursor.
                              The first being the main menu, then the tank scene, and finally the store.
                              To see more of what each route does feel free to check them out on
                              <a target="_blank" href="https://github.com/santiagorendon/fish-tank-sim/blob/c4ed9bde8fd5e3ffde21e61554747200becb2533/js/sketch.js#L48">Github</a>
                              inside the defined methods of the <code>Game</code> class.
                            </p>
<pre><code>
  function draw() {
    imageMode(CENTER);
    //draw game scene
    if(game.scene === "tank"){
        game.drawTank();
    }
    else if(game.scene === "store"){
        game.drawStore();
    }
    else if (game.scene === "menu"){
      game.drawMainMenu();
    }
    //add custom cursor
    noCursor();
    image(game.cursor, mouseX, mouseY, 20, 20);
  }
</code></pre>

                        </p>
                        <h4>Game Class</h4>
                          <p>
                          The majority of the tank code is stored in the <code>Game</code> class.
                          The state of the game is stored in the <code>game.scene</code> variable, with the three possible values being:
                          <ul>
                            <li><code>menu</code> for pre-game play, before you start the game and have to fill the tank with water</li>
                            <li><code>tank</code> for the main game play, when you feed and interact with your fish</li>
                            <li><code>store</code> for the store scene, when you can buy new items for your tank</li>
                          </ul>
                          </p>
                        <h4>Fish Class</h4>
                          <p>
                            Fish swim happily around the tank, but while this happens, they constantly get a bit more hungry,
                            with a <code>this.health -= this.healthLoss</code> variable decreasing.
                            The fish also have a <code>drawstats()</code> method that is called when a fish is clicked.


                            A fish that you forgot to feed will eventually have its <code>health</code> propery reach 0, causing it sink to the bottom of the tank.
                            You won't be able to sell this fish, and will have to use the toilet tool to flush your dead fish away.

                            If a fish is alive, it can  move around the tank using Perlin noise, so that its movement seems natural.
                            The animation of the fish is done through cycling through an array of fish images.
                            We used the <code>constrain</code> function to ensure that the fish doesn't hit the edges of the walls.
                            To make this seem even more realistic, each fish has its own <code>this.hitBox</code> to keep track of
                            what it can touch.

                            Finally, fish can breed provided our forumla for calculating an offspring's rarity:
                            <code>(parent1+parent2+parent3)/3</code>, where parent3 is a random number between 0-100, and parent1 and parent2
                            are the selected parents of the fish.
                          </p>
                        <h4>Food Class</h4>
                        <p>
                          To feed a fish, you can buy some fish food and drop it over a fish to restore its hunger level.
                          The class fish food uses basic collision to detect that the food is touching the fish and if so restores
                          the fish by the food instance's <code>healthIncrease</code> property. Each food particle will slowly disolve
                          by lowering its alpha value by a factor of the food instance's <code>disolveSpeed</code> property.
                        </p>
                        <h4>Tool Class</h4>
                        <p>
                          Tools are stored in the <code>Toolbar</code> class, and use hitboxes to detect when
                          you click on one of the tools. Additionally, the <code>state</code> variable updates
                          to reflect your current tool, such as <code>cursor</code> or <code>sand</code>, and the
                          <code>cursorImage</code> also updates to reflect your current tool.
                        </p>
                        <h4>Water Class</h4>
                        <p>
                          The most basic component of the fish tank's environment is water, constructed by the
                          <code>Water</code> class. However, this class just represents the randomly colored and
                          sized water particles that flow out of your mouse's position and float downwards. The
                          real magic is in the <code>drawWater()</code> function, which is adapated from
                          <a href='https://editor.p5js.org/YiyunJia/sketches/BJz5BpgFm'> YiyunJia's</a> code.
                          Using Perlin noise, a visual effect is created where it looks like the water is wavy
                          and sloshing around in your tank as you fill it up. For added fun, there's also a sound
                          that gets triggered as you fill the fish tank.
                        </p>
                        <h4>Sand Class</h4>
                        <p>
                          Sand particles are modeled after the <code>Sand</code> class, with new sand being
                          dropped into the tank and stored in an array. Sand
                          particles are randomly sized and sink to the bottom of the tank by a factor of the sand instance's <code>ySpeed</code>, to add
                          some visual flair to your tank.
                        </p>
                        <h4>Decorations Class</h4>
                        <p>
                          You can drop in new decorations defined in the <code>Decoration</code> class to your tank.
                          As usual, they float to the bottom, and will be layered on top of the sand you added previously.
                          However, the treasure chest is a special decoration that will drop a coin at the interval given by its property <code>coinDelay</code>.

                        </p>
                        <blockquote>
                            <p>
                              No human being, however great, or powerful, was ever so free as a fish.

                            </p>
                            <cite>John Ruskin</cite>
                        </blockquote>


                        <p class="entry__tags">
                            <span>Post Tags</span>

                            <span class="entry__tag-list">
                                <a href="#0">gaming</a>
                                <a href="#0">simulation</a>
                                <a href="#0">perlin noise</a>
                                <a href="#0">particle systems</a>
                                <a href="#0">javascript</a>
                            </span>

                        </p>
                    </div>
                    <!-- end entry content -->





                </article> <!-- end column large-full entry-->





            </main>

        </div> <!-- end s-content -->


        <!-- footer
        ================================================== -->
        <!-- <footer class="s-footer footer">
            <div class="row">
                <div class="column large-full footer__content">
                    <div class="footer__copyright">
                      <span>Santiago Rendon</span>
                      <span>P5 Portfolio</span>
                    </div>
                </div>
            </div> -->

            <div class="go-top">
                <a class="smoothscroll" title="Back to Top" href="#top"></a>
            </div>
        </footer>

    </div> <!-- end s-wrap -->


    <!-- Java Script
    ================================================== -->
    <script src="js/jquery-3.2.1.min.js"></script>
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>

</body>
